# 搜索界面

## 基础知识

选择使用索索对话框还是使用搜索微件来实现搜索功能，它们两者提供相同的搜索功能，但是方式稍有不同:

* **搜索对话框**是一个由`Andorid`系统控制的界面组件。由用户激活后，搜索对话框将显示在`Activity`的顶部。

  `Android`系统控制搜索对话框中的所有事件。当用户提交查询时，系统会将该查询传递给指定用来处理搜索的`Activity`。该对话框还可以在用户输入内容的同时提供搜索建议。

  <img src="https://developer.android.google.cn/images/search/search-ui.png" style="zoom: 50%;" />

* **搜索微件**是一个`SearchView`实例，可以将其放在布局中的任意位置。默认情况下，搜索微件的行为类似于标准的`EditText`微件，它没有什么特殊的作用，但是可以自定义配置，以使`Android`系统处理所有的输入事件，将查询传递给适当的`Activity`，并提供索索建议(就像搜索对话框一样)。

  > **⚠️注意：**如果需要，您可以使用各种回调方法和监听器自行处理搜索文件中的所有的用户输入。如果您要自行处理所有用户输入，请阅读 `SearchView` 及其嵌套接口的参考文档。
  >
  > [参考来源](https://developer.android.google.cn/reference/android/widget/SearchView)



当用户从搜索对话框或搜索微件中执行搜索时，系统会创建一个`Intent`并将查询在其中。然后系统会启动已声明用来处理搜索的`Activity`（即可搜索Activity），并将其传递该`intent`。要设置您的应用来执行这种辅助搜索，需要以下几项:

* 可搜索配置

  一个XML文件，用于为搜索对话框或搜索微件配置一些设置，其中包括语音搜索、搜索建议和搜索框的提示文本等功能的设置。

* 可搜索`Activity`

  接收搜索查询、搜索数据并显示搜索结果的`Activity`。

* 搜索界面，由以下两项中的任意一项提供:

  * 搜索对话框

    默认情况下，搜索对话框处于隐藏状态，但是当您调用`onSearchRequested()`时(即当用户按您的搜索按钮时)，它会显示在屏幕的顶部。

  * `SearchView`微件

    使用搜索微件，您可以将搜索框放在`Activity`中的任意位置。通常应将`SearchView`用作应用栏中的操作视图，而不是将其放在`Activity`布局中。



